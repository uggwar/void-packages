# Template file for 'zls'
pkgname=zls
version=0.14.0
revision=1
build_style=zig-build
configure_args="-Dpie"
short_desc="Zig language server"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/zigtools/zls"
_tracy_gitrev="1fc7c9f160a5ecc3e8c045a5793a189b4d3c6f1b"
distfiles="https://github.com/zigtools/zls/archive/refs/tags/${version}.tar.gz
 https://github.com/wolfpld/tracy/archive/${_tracy_gitrev}.tar.gz"
checksum="44cae74073b2f75cf627755398afadafaa382cccf7555b5b66b147dcaa6cef0d
 21420c2f439a195c32648d27f817b031642d3b2d7d2b3a6dcb0bce5d989836d7"
skip_extraction="${_tracy_gitrev}.tar.gz"

post_extract() {
	vsrcextract -C src/tracy ${_tracy_gitrev}.tar.gz
}

post_install() {
	vlicense LICENSE
}
